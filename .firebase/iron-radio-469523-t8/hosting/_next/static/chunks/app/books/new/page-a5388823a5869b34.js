(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[346],{8698:(e,s,a)=>{Promise.resolve().then(a.bind(a,2476))},2476:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>o});var i=a(5155),d=a(2115),t=a(6046),n=a(8361),c=a(9134),l=a(5739),r=a(1069);function o(){let e=(0,t.useRouter)(),{toast:s}=(0,c.d)(),{token:a,isLoading:o}=(0,r.A)(),[u,h]=(0,d.useState)(!1);(0,d.useEffect)(()=>{a||e.push("/signin")},[a,e]);let x=async i=>{try{h(!0),await (0,l.iC)(a,i),s({title:"Success",description:"Book added successfully"}),e.push("/dashboard")}catch(e){s({title:"Error",description:"Failed to add book",variant:"destructive"})}finally{h(!1)}};return o?(0,i.jsx)("div",{children:"Loading..."}):(0,i.jsx)("div",{className:"flex min-h-screen flex-col",children:(0,i.jsx)("main",{className:"flex-1 p-4 md:p-6",children:(0,i.jsxs)("div",{className:"container mx-auto max-w-md space-y-6",children:[(0,i.jsxs)("div",{className:"space-y-2",children:[(0,i.jsx)("h1",{className:"text-3xl font-bold",children:"Add New Reading"}),(0,i.jsx)("p",{className:"text-muted-foreground",children:"Add a new book to your reading list"})]}),(0,i.jsx)(n.k,{onSubmit:x,isLoading:u})]})})})}}},e=>{var s=s=>e(e.s=s);e.O(0,[246,759,289,230,236,441,517,358],()=>s(8698)),_N_E=e.O()}]);